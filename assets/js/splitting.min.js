!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Splitting=t()}(this,function(){"use strict"
var o=document,l=o.createTextNode.bind(o)
function d(n,t,e){n.style.setProperty(t,e)}function f(n,t){return n.appendChild(t)}function p(n,t,e,r){var i=o.createElement("span")
return t&&(i.className=t),e&&(!r&&i.setAttribute("data-"+t,e),i.textContent=e),n&&f(n,i)||i}function h(n,t){return n.getAttribute("data-"+t)}function m(n,t){return n&&0!=n.length?n.nodeName?[n]:[].slice.call(n[0].nodeName?n:(t||o).querySelectorAll(n)):[]}function u(n){for(var t=[];n--;)t[n]=[]
return t}function v(n,t){n&&n.some(t)}function c(t){return function(n){return t[n]}}var a={}
function n(n,t,e,r){return{by:n,depends:t,key:e,split:r}}function r(n){return function t(e,n,r){var i=r.indexOf(e)
if(-1==i){r.unshift(e)
var o=a[e]
if(!o)throw new Error("plugin not loaded: "+e)
v(o.depends,function(n){t(n,e,r)})}else{var u=r.indexOf(n)
r.splice(i,1),r.splice(u,0,e)}return r}(n,[],[])}function t(n,t,e,r){n.normalize()
var i=[],o=document.createDocumentFragment()
r&&i.push(n.previousSibling)
var u=[]
return m(n.childNodes).some(function(n){if(!n.tagName||n.hasChildNodes()){if(n.childNodes&&n.childNodes.length)return u.push(n),void i.push.apply(i,t(n,t,e,r))
var r=n.wholeText||"",o=r.trim()
o.length&&(" "===r[0]&&u.push(l(" ")),v(o.split(e),function(n,t){t&&u.push(l(" "))
var e=p(0,"word",n)
u.push(e),i.push(e)}),(" "===r[r.length-1]&&u.push(l(" "))))}else u.push(n)}),v(u,function(n){f(o,n)}),n.innerHTML="",f(n,o),i}var g="words",s=n(g,[],function(n){return m(n.querySelectorAll("[data-splitting]")).filter(function(n){return!n["üçå"]}).forEach(function(n){n["üçå"]=0,n.classList.add("splitting"),n.classList.add("splitting-"+g),function n(t,e,r){var i=t.treePath,o=0===i.length
if(o){t.phrases=e}else{var u="string"==typeof t.text,l=u?t.text:t.text[r.index]
e.forEach(function(n){var t=i[o?0:1],e=n.words
void 0===e[t]&&(e[t]=[]),e[t].push(u?l:l[i[2]])})}t.nextText&&n(t.nextText,e,r)}(n.splitText={selector:n.getAttribute("data-splitting"),lang:n.getAttribute("lang")||"",plugins:n.getAttribute("data-splitting-plugins")},[{words:u(1)}],{index:0})}),n}),y=n("lines",[g],function(n){return"line"===n.words},function(n,e){return t(n,function(n){return function t(n,e){return m(n.childNodes).reduce(function(n,e){var r=e.classList&&e.classList.contains("splitting-text")
return r&&n.words.push(e),n.words=n.words.concat((r?[]:t(e,{words:[]})).words),n},{words:[]})}(n).words}(),e,!0)}),w=n("items",[g],function(n){return n.words},function(n,t){var e=n.items||m(n.querySelectorAll(n.matching||"[data-splitting-child-text]"))
return v(e,function(e){e.splitText={matching:n.matching,lang:e.getAttribute("lang")||n.getAttribute("lang")||""},t(e)}),e}),b=n("chars",[g],function(n){return n.chars},function(n,t){var e=n.textNode
return(n.chars=[],(e?function t(e,r,i,o,u,l){var n=e.nodeValue.toString(),c=h(r,i)||h(r,"text"),a=n.trim()
if(a.length){if(n!==a){"/"===c&&u.push(l(" "))
var s=n.indexOf(a)
s&&u.push(l(n.slice(0,s))),"characters"!==c&&(e=o(a,u,r))}else e=o(n,u,r)
"/"===c&&u.push(l(" "))}else u.push(l(n))}:function t(n,e,r,i,o,u){if(!n)return
if(3===n.nodeType)return void e(n,r,i,o,u)
var l=m(n.childNodes)
if(1===l.length)return t(l[0],e,r,i,o,u)
for(var c=0;c<l.length;c++){var a=l[c]
t(a,e,r,i,o,u)}})(e||n,n,0,function(n,t,e){v(n.split(""),function(n){t.push(p(0,"char",n))})},[],[]),m(n.chars))}),N=n("plugins",[],(function(t){return function(n){return n||t}})(Object.keys(a)),function(t,n){var e=this,r=m(t.target||t),i=n(t.plugins)
r.forEach(function(n){var r={}
i.forEach(function(n){var t=a[n]
t.split&&(r[n]=t.split)}),function t(n,e,r,i,o){var u=n["üçå"]++,l=!1
v(e,function(t){var e=r[t],i=h(n,"splitting-"+t),o=i&&i.split(","),u=o&&o.length
if(e&&(!u||o.includes(t+""))){var c=e(n,{index:u})
c&&v(c,function(n){l=1,n.classList.add("splitting-"+t),i&&n.classList.add("splitting-"+t+"-"+i)})}}),l&&(function(n,t,e){e.addPlugin=function(n){t.plugins.push(n)},e.splitText=function(n,t){var e=h(n,"splitting-text")
if(e)return r[e]}(0,i,n),v(o,function(t){var e=r[t]
e.init&&e.init(n,i)}))}(n,i,r,e,t)})})
function i(n,t){var e=0,r=[]
v(n.split(""),function(n){v(t,function(t,i){var o=s+"-"+t+"-"+e
r.push(d(n,o,i))}),e++})
var i=r.join(";")+";",o=h(n.parentElement,"style")||""
return n.parentElement.setAttribute("style",o+i),n.parentElement}function o(n,t,e){var r=n.createElement("style")
return r.innerHTML=t.map(function(n){return"[data-splitting"+n+']{'+e.join(";")+"}"}).join(""),r.innerHTML+="[data-splitting][data-splitting-create]:empty::after{content:attr(data-splitting-create)}",r.id=s+"-effect-"+t.join("-"),f(n.head,r)}var s="-"
function k(n,t){var e=e||{}
return function(i){return n.some(function(n){var t=h(i,n)
if(t)return e[n]=t})}}function q(n,t,e,r){var i
return r=r||function(){},function(o){m(o.querySelectorAll("[data-splitting]")).filter(function(n){return!n["üçå"]}).forEach(function(o){o["üçå"]=0,n&&(i=i||k(n)),i&&i(o)
var u={el:o}
t.forEach(function(n){var t=h(o,"splitting-"+n)
t&&(u[n]=t.split(","))}),e&&e(u),r(o,u)})}}return a.chars=b,a.lines=y,a.words=s,a.items=w,{createEl:p,createElement:function(n,t){var e=o.createElement(n)
return(t||"").split(" ").forEach(function(n){return e.classList.add(n)}),e},keys:c,pathLetters:i,createText:l,each:v,breakText:t,remesure:function(n,t,e){var r=h(n,"splitting-"+t)
r&&e(r)},encode:function(n,r){var e=r.words||r.chars||r.lines
return n.map(function(n){var t=[]
return e&&t.push("words"===e?n.words.length:n.chars.length),t}).join(",")},html:p,css:o,find:m}}); 